#VRML V2.0 utf8
# X3D-to-VRML-97 XSL translation autogenerated by X3dToVrml97.xslt
# http://www.web3d.org/x3d/content/X3dToVrml97.xslt
# Generated using XSLT processor: SAXON 8.7 from Saxonica

# [X3D] VRML V3.2 utf8
# PROFILE Immersive
# [X3D] version=3.2
# [X3D] noNamespaceSchemaLocation=http://www.web3d.org/specifications/x3d-3.2.xsd
# [head]

# META "title" "MoodChooser.x3d"
# META "description" "Design pattern demonstrating multiple TouchSensor, IntegerTrigger, Shape and ROUTE combinations for selecting a Switch"
# META "creator" "Jason Nelson and MV4205 class"
# META "created" "6 April 2009"
# META "modified" "8 April 2009"
# META "license" "smiley images are open source"
# META "reference" "http://openclipart.org/media/tags/smiley"
# META "identifier" "http://x3dGraphics.com/examples/X3dForWebAuthors/Chapter09-EventUtilitiesScripting/MoodChooser.x3d"
# META "generator" "X3D-Edit, https://savage.nps.edu/X3D-Edit"
# META "license" "../../license.html"


EXTERNPROTO IntegerTrigger [
  # [appinfo] Convert boolean true or time input events to integer value (suitable for Switch node).
  eventIn      SFBool	set_boolean    	# [appinfo] If set_boolean input is true, trigger output of integer value.
  eventIn      SFInt32	set_integerKey	# [appinfo] Resets value used for output when triggered later.
  exposedField SFInt32	integerKey    	# [appinfo] integerKey is value for output when triggered.
  eventOut     SFInt32	integerKey_changed # [appinfo] Reports change in integerKey value.
  eventOut     SFInt32	triggerValue 	# [appinfo] triggerValue provides integer event output matching integerKey when true set_boolean received.
][
      "EventUtilityPrototypes.wrl#IntegerTrigger"
"http://www.web3d.org/x3d/content/examples/Basic/development/EventUtilityPrototypes.wrl#IntegerTrigger"
      "EventUtilityPrototypes.x3d#IntegerTrigger"
"http://www.web3d.org/x3d/content/examples/Basic/development/EventUtilityPrototypes.x3d#IntegerTrigger"
 ]

    
# [Scene] ========== ========== ==========

NavigationInfo { type [ "EXAMINE" "ANY" ] } ###  Default X3D NavigationInfo

Viewpoint {
  position 0 0 15
}
 ### Hint:  need description attribute, such as <Viewpoint description='new viewpoint'/>
Transform {
  translation 0 3 0
  children [
      Shape {
        geometry Text {
          string [ "How do you feel today?" ]
          fontStyle FontStyle {
            justify [ "MIDDLE" "MIDDLE"  ] 
          }
        }
        appearance Appearance {
          material Material {
          }
        }
      }
      DEF howFeelText TouchSensor {
      }
 ### Hint:  need description attribute, such as <TouchSensor description='touch to activate'/>
  ]
}
Transform {
  translation -5 0 0
  children [
      Shape {
        geometry Text {
          string [ "Happy" ]
          fontStyle FontStyle {
            justify [ "MIDDLE" "MIDDLE"  ] 
          }
        }
        appearance Appearance {
          material Material {
            diffuseColor 0.129412 1 0.019608
          }
        }
      }
      DEF happyText TouchSensor {
      }
 ### Hint:  need description attribute, such as <TouchSensor description='touch to activate'/>
  ]
}
Transform {
  translation -1.5 0 0
  children [
      Shape {
        geometry Text {
          string [ "Not Bad" ]
          fontStyle FontStyle {
            justify [ "MIDDLE" "MIDDLE"  ] 
          }
        }
        appearance Appearance {
          material Material {
            diffuseColor 1 0.960784 0.019608
          }
        }
      }
      DEF notBadText TouchSensor {
      }
 ### Hint:  need description attribute, such as <TouchSensor description='touch to activate'/>
  ]
}
Transform {
  translation 2.2 0 0
  children [
      Shape {
        geometry Text {
          string [ "Sad" ]
          fontStyle FontStyle {
            justify [ "MIDDLE" "MIDDLE"  ] 
          }
        }
        appearance Appearance {
          material Material {
            diffuseColor 0.180392 0.705882 1
          }
        }
      }
      DEF sadText TouchSensor {
      }
 ### Hint:  need description attribute, such as <TouchSensor description='touch to activate'/>
  ]
}
Transform {
  translation 5 0 0
  children [
      Shape {
        geometry Text {
          string [ "Bad" ]
          fontStyle FontStyle {
            justify [ "MIDDLE" "MIDDLE"  ] 
          }
        }
        appearance Appearance {
          material Material {
            diffuseColor 1 0.019608 0.05098
          }
        }
      }
      DEF bullText TouchSensor {
      }
 ### Hint:  need description attribute, such as <TouchSensor description='touch to activate'/>
  ]
}
Transform {
  translation -5 0 -.1
  children [
      Shape {
        geometry Box {
          size 2.5 1 0.1
        }
        appearance Appearance {
          material Material {
            transparency 1
          }
        }
      }
      DEF happy TouchSensor {
      }
 ### Hint:  need description attribute, such as <TouchSensor description='touch to activate'/>
  ]
}
Transform {
  translation -1.5 0 -.1
  children [
      Shape {
        geometry Box {
          size 3 1 0.1
        }
        appearance Appearance {
          material Material {
            transparency 1
          }
        }
      }
      DEF notBad TouchSensor {
      }
 ### Hint:  need description attribute, such as <TouchSensor description='touch to activate'/>
  ]
}
Transform {
  translation 2.2 0 -.1
  children [
      Shape {
        geometry Box {
          size 2 1 0.1
        }
        appearance Appearance {
          material Material {
            transparency 1
          }
        }
      }
      DEF sad TouchSensor {
      }
 ### Hint:  need description attribute, such as <TouchSensor description='touch to activate'/>
  ]
}
Transform {
  translation 5 0 -.1
  children [
      Shape {
        geometry Box {
          size 4.5 1 0.1
        }
        appearance Appearance {
          material Material {
            transparency 1
          }
        }
      }
      DEF bull TouchSensor {
      }
 ### Hint:  need description attribute, such as <TouchSensor description='touch to activate'/>
  ]
}
DEF display Switch {
  choice [
    Transform {
      translation -5 -3 0
      children [
          DEF happyimg Shape {
            geometry Box {
            }
            appearance Appearance {
              material Material {
                diffuseColor 0 0.819608 0.156863
              }
              texture ImageTexture {
                url [ "images/nicubunu_Emoticons_Laughing_face.png" "http://x3dGraphics.com/examples/X3dForWebAuthors/Chapter09-EventUtilitiesScripting/images/nicubunu_Emoticons_Laughing_face.png" ]
              }
            }
          }
      ]
    }
    Transform {
      translation -1.5 -3 0
      children [
          DEF nbimg Shape {
            geometry Box {
            }
            appearance Appearance {
              material Material {
                diffuseColor 0 0.066667 0.941176
              }
              texture ImageTexture {
                url [ "images/nicubunu_Emoticons_Worried_face.png" "http://x3dGraphics.com/examples/X3dForWebAuthors/Chapter09-EventUtilitiesScripting/images/nicubunu_Emoticons_Worried_face.png" ]
              }
            }
          }
      ]
    }
    Transform {
      translation 2.2 -3 0
      children [
          DEF sadimg Shape {
            geometry Box {
            }
            appearance Appearance {
              material Material {
                diffuseColor 0.980392 0.968627 0
              }
              texture ImageTexture {
                url [ "images/nicubunu_Emoticons_Crying_face.png" "http://x3dGraphics.com/examples/X3dForWebAuthors/Chapter09-EventUtilitiesScripting/images/nicubunu_Emoticons_Crying_face.png" ]
              }
            }
          }
      ]
    }
    Transform {
      translation 4.7 -3 0
      children [
          DEF bullimg Shape {
            geometry Box {
            }
            appearance Appearance {
              material Material {
                diffuseColor 1 0.101961 0.180392
              }
              texture ImageTexture {
                url [ "images/nicubunu_Emoticons_Devil_face.png" "http://x3dGraphics.com/examples/X3dForWebAuthors/Chapter09-EventUtilitiesScripting/images/nicubunu_Emoticons_Devil_face.png" ]
              }
            }
          }
      ]
    }
  ]
}
DEF nodisplay IntegerTrigger {
  integerKey -1
}
DEF happydisplay IntegerTrigger {
  integerKey 0
}
DEF nbdisplay IntegerTrigger {
  integerKey 1
}
DEF saddisplay IntegerTrigger {
  integerKey 2
}
DEF bulldisplay IntegerTrigger {
  integerKey 3
}
ROUTE happy.isActive TO happydisplay.set_boolean
ROUTE notBad.isActive TO nbdisplay.set_boolean
ROUTE sad.isActive TO saddisplay.set_boolean
ROUTE bull.isActive TO bulldisplay.set_boolean
ROUTE howFeelText.isActive TO nodisplay.set_boolean
ROUTE happyText.isActive TO happydisplay.set_boolean
ROUTE notBadText.isActive TO nbdisplay.set_boolean
ROUTE sadText.isActive TO saddisplay.set_boolean
ROUTE bullText.isActive TO bulldisplay.set_boolean
# Note that Switch "which choice" has FAN IN
ROUTE nodisplay.triggerValue TO display.whichChoice
ROUTE happydisplay.triggerValue TO display.whichChoice
ROUTE nbdisplay.triggerValue TO display.whichChoice
ROUTE saddisplay.triggerValue TO display.whichChoice
ROUTE bulldisplay.triggerValue TO display.whichChoice
