#VRML V2.0 utf8
# X3D-to-VRML-97 XSL translation autogenerated by X3dToVrml97.xslt
# https://www.web3d.org/x3d/content/X3dToVrml97.xslt
# Generated using XSLT processor: Saxonica

# [X3D] VRML V3.3 utf8
# PROFILE Immersive
# [X3D] version=3.3
# [X3D] noNamespaceSchemaLocation=https://www.web3d.org/specifications/x3d-3.3.xsd
# [head]

# META "title" "FishSchool.x3d"
# META "description" "Fish Schooling Demo"
# META "creator" "Stewart Liles, Sean Hynes"
# META "created" "25 September 1998"
# META "modified" "20 October 2019"
# META "reference" "https://X3dGraphics.com/examples/X3dForWebAuthors/KelpForestExhibit/KelpForestDesignPaperWeb3dSymposiumFebruary2002.pdf"
# META "reference" "https://X3dGraphics.com/examples/X3dForWebAuthors/KelpForestExhibit/Teaching3d-KelpForestCaseStudy.pdf"
# META "accessRights" "All content has permissions for free use. Please provide credit to the Naval Postgraduate School (NPS) Modeling Virtual Environments and Simulation (MOVES) Institute."
# META "identifier" "https://X3dGraphics.com/examples/X3dForWebAuthors/KelpForestExhibit/FishSchool.x3d"
# META "generator" "X3D-Edit 3.3, https://savage.nps.edu/X3D-Edit"
# META "license" "../license.html"

# [Scene] ========== ========== ==========

WorldInfo {
  title "FishSchool.x3d"
}
NavigationInfo {
  speed 5.0
  type [ "EXAMINE"  ] 
  visibilityLimit 250.0
}
Viewpoint {
  description "Close to School - FS"
  position 0.0 1.0 75.0
}
Viewpoint {
  description "Nose on Glass - FS"
  fieldOfView 1.0
  position 0.0 1.0 30.0
}
Viewpoint {
  description "Fish Feeding - FS"
  fieldOfView 1.0
  orientation 1.0 0.0 0.0 -1.57
  position 0.0 40.0 0.0
}
Viewpoint {
  description "Left Side - FS"
  fieldOfView 1.0
  orientation 0.0 1.0 0.0 -1.57
  position -40.0 0.0 0.0
}
Viewpoint {
  description "Right Side - FS"
  fieldOfView 1.0
  orientation 0.0 1.0 0.0 1.57
  position 40.0 0.0 0.0
}
Viewpoint {
  description "Middle Looking Out - FS"
  jump FALSE
  orientation 0.0 1.0 0.0 2.2
  position 0.0 0.0 0.0
}
SpotLight {
  ambientIntensity 1.0
  direction 0.0 -1.0 0.0
  location 0.0 50.0 0.0
}
Sound {
  location 0 0.1 0
  maxBack 50
  maxFront 50
  minBack 50
  minFront 50
  source AudioClip {
    description "Sound for Fish"
    loop TRUE
    url [ "Sound2.wav" "https://X3dGraphics.com/examples/X3dForWebAuthors/KelpForestExhibit/Sound2.wav" ]
  }
}
DEF GlobalClock TimeSensor {
  loop TRUE
}
Shape {
  appearance Appearance {
    material Material {
    }
  }
  geometry IndexedLineSet {
    coordIndex [ 0 1 2 3 0 -1 4 5 6 7 4 -1 0 4 -1 1 5 -1 2 6 -1 3 7 ]
    coord Coordinate {
      point [ -30.0 30.0 30.0 30.0 30.0 30.0 30.0 30.0 -30.0 -30.0 30.0 -30.0 -30.0 -30.0 30.0 30.0 -30.0 30.0 30.0 -30.0 -30.0 -30.0 -30.0 -30.0 ]
    }
  }
}
Fog {
  color 0.1 0.3 0.1
  visibilityRange 70.0
}
DEF Fish0 Transform {
  translation -5.0 0.0 0.0
  children [
      Viewpoint {
        description "Fish 0 view"
        fieldOfView 1.8
        position 0.0 1.0 -0.5
      }
      DEF FishIN Inline {
        url [ "Fish.x3d" "https://X3dGraphics.com/examples/X3dForWebAuthors/KelpForestExhibit/Fish.x3d" "Fish.wrl" "https://X3dGraphics.com/examples/X3dForWebAuthors/KelpForestExhibit/Fish.wrl" ]
      }
  ]
}
DEF Fish1 Transform {
  translation -4.0 0.0 0.0
  children [
      Viewpoint {
        description "Fish 1 view"
        fieldOfView 1.8
        position 0.0 1.0 -0.5
      }
      USE FishIN
  ]
}
DEF Fish2 Transform {
  translation -3.0 0.0 0.0
  children [
      Viewpoint {
        description "Fish 2 view"
        fieldOfView 1.8
        position 0.0 1.0 -0.5
      }
      USE FishIN
  ]
}
DEF Fish3 Transform {
  translation -2.0 0.0 0.0
  children [
      Viewpoint {
        description "Fish 3 view"
        fieldOfView 1.8
        position 0.0 1.0 -0.5
      }
      USE FishIN
  ]
}
DEF Fish4 Transform {
  translation -1.0 0.0 0.0
  children [
      Viewpoint {
        description "Fish 4 view"
        fieldOfView 1.8
        position 0.0 1.0 -0.5
      }
      USE FishIN
  ]
}
DEF Fish5 Transform {
  children [
      Viewpoint {
        description "Fish 5 view"
        fieldOfView 1.8
        position 0.0 1.0 -0.5
      }
      USE FishIN
  ]
}
DEF Fish6 Transform {
  translation 1.0 0.0 0.0
  children [
      Viewpoint {
        description "Fish 6 view"
        fieldOfView 1.8
        position 0.0 1.0 -0.5
      }
      USE FishIN
  ]
}
DEF Fish7 Transform {
  translation 2.0 0.0 0.0
  children [
      Viewpoint {
        description "Fish 7 view"
        fieldOfView 1.8
        position 0.0 1.0 -0.5
      }
      USE FishIN
  ]
}
DEF Fish8 Transform {
  translation 3.0 0.0 0.0
  children [
      Viewpoint {
        description "Fish 8 view"
        fieldOfView 1.8
        position 0.0 1.0 -0.5
      }
      USE FishIN
  ]
}
DEF Fish9 Transform {
  translation 4.0 0.0 0.0
  children [
      Viewpoint {
        description "Fish 9 view"
        fieldOfView 1.8
        position 0.0 1.0 -0.5
      }
      USE FishIN
  ]
}
# Warning: VRML97-style scripting, not X3D Scene Authoring Interface (SAI)
DEF BoidScript Script {
  eventIn      SFFloat	GlobalTick
  field        SFNode      B9     USE Fish9
  field        SFNode      B8     USE Fish8
  field        SFNode      B7     USE Fish7
  field        SFNode      B6     USE Fish6
  field        SFNode      B5     USE Fish5
  field        SFNode      B4     USE Fish4
  field        SFNode      B3     USE Fish3
  field        SFNode      B2     USE Fish2
  field        SFNode      B1     USE Fish1
  field        SFNode      B0     USE Fish0
  directOutput TRUE
  mustEvaluate TRUE

	url [ "FishSchoolCode/Demo.class" "https://X3dGraphics.com/examples/X3dForWebAuthors/KelpForestExhibit/FishSchoolCode/Demo.class"
 ]
}
ROUTE GlobalClock.fraction_changed TO BoidScript.GlobalTick
