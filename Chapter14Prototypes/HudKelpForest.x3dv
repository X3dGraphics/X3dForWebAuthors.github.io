#X3D V3.3 utf8
# X3D-to-ClassicVRML XSL translation autogenerated by X3dToVrml97.xslt
# https://www.web3d.org/x3d/content/X3dToVrml97.xslt
# Generated using XSLT processor: Saxonica

PROFILE Immersive
# [X3D] version=3.3
# [X3D] noNamespaceSchemaLocation=https://www.web3d.org/specifications/x3d-3.3.xsd
# [head]

META "title" "HudKelpForest.x3d"
META "description" "Demonstrates use of a ProximitySensor in building a HUD, with display values showing current view location."
META "creator" "Leonard Daly and Don Brutzman"
META "created" "15 July 2006"
META "modified" "20 October 2019"
META "Image" "HudKelpForestScreenshot.png"
META "reference" "https://X3dGraphics.com"
META "reference" "https://www.web3d.org/x3d/content/examples/X3dResources.html"
META "rights" "Copyright 2006, Daly Realism and Don Brutzman"
META "subject" "X3D book, X3D graphics, X3D-Edit, http://www.x3dGraphics.com"
META "identifier" "https://X3dGraphics.com/examples/X3dForWebAuthors/Chapter14Prototypes/HudKelpForest.x3d"
META "generator" "X3D-Edit 3.3, https://savage.nps.edu/X3D-Edit"
META "license" "../license.html"

# [Scene] ========== ========== ==========

NavigationInfo { type [ "EXAMINE" "ANY" ] } ###  Default X3D NavigationInfo

WorldInfo {
  title "HudKelpForest.x3d"
}
EXTERNPROTO HeadsUpDisplay [ 
  # [appinfo] Heads-up display (HUD) keeps child geometry aligned on screen in a consistent location

  inputOutput    SFVec3f	screenOffset    # [appinfo] offset position for HUD relative to current view location, default 0 0 -5

  inputOutput    MFNode	children    # [appinfo] X3D content positioned at HUD offset

  outputOnly     SFVec3f	position_changed    # [appinfo] HUD position update (in world coordinates) relative to original location

  outputOnly     SFRotation	orientation_changed    # [appinfo] HUD orientation update relative to original location

][
"HeadsUpDisplayPrototype.x3d#HeadsUpDisplay" "https://X3dGraphics.com/examples/X3dForWebAuthors/Chapter14Prototypes/HeadsUpDisplayPrototype.x3d#HeadsUpDisplay" "HeadsUpDisplayPrototype.wrl#HeadsUpDisplay" "https://X3dGraphics.com/examples/X3dForWebAuthors/Chapter14Prototypes/HeadsUpDisplayPrototype.wrl#HeadsUpDisplay"
 ]
EXTERNPROTO TextString [ 
  inputOutput    SFVec3f	offset
  inputOutput    MFString	string
  inputOutput    SFColor	color
  initializeOnly SFFloat	size
  initializeOnly MFString	justify
  initializeOnly SFString	style
  initializeOnly MFString	family
][
"TextStringPrototype.x3d#TextString" "https://X3dGraphics.com/examples/X3dForWebAuthors/Chapter14Prototypes/TextStringPrototype.x3d#TextString" "TextStringPrototype.wrl#TextString" "https://X3dGraphics.com/examples/X3dForWebAuthors/Chapter14Prototypes/TextStringPrototype.wrl#TextString"
 ]
Background {
  backUrl [ "urn:web3d:media:textures/panoramas/horizon_3_back.jpg" "horizon_3_back.jpg" "../../Basic/UniversalMediaPanoramas/horizon_3_back.jpg" "https://www.web3d.org/WorkingGroups/media/textures/panoramas/horizon_3_back.jpg" "https://www.web3d.org/x3d/content/examples/UniversalMediaPanoramas/horizon_3_back.jpg" "http://www.web3dmedia.com/UniversalMedia/textures/panoramas/horizon_3_back.jpg" "http://www.officetowers.com/UniversalMedia/textures/panoramas/horizon_3_back.jpg" "http://geometrek.com/UniversalMedia/textures/panoramas/horizon_3_back.jpg" "http://www.sc.ehu.es/ccwgamoa/UniversalMedia/textures/panoramas/horizon_3_back.jpg" ]
  bottomUrl [ "urn:web3d:media:textures/panoramas/horizon_3_bottom.jpg" "horizon_3_bottom.jpg" "../../Basic/UniversalMediaPanoramas/horizon_3_bottom.jpg" "https://www.web3d.org/WorkingGroups/media/textures/panoramas/horizon_3_bottom.jpg" "https://www.web3d.org/x3d/content/examples/UniversalMediaPanoramas/horizon_3_bottom.jpg" "http://www.web3dmedia.com/UniversalMedia/textures/panoramas/horizon_3_bottom.jpg" "http://www.officetowers.com/UniversalMedia/textures/panoramas/horizon_3_bottom.jpg" "http://geometrek.com/UniversalMedia/textures/panoramas/horizon_3_bottom.jpg" "http://www.sc.ehu.es/ccwgamoa/UniversalMedia/textures/panoramas/horizon_3_bottom.jpg" ]
  frontUrl [ "urn:web3d:media:textures/panoramas/horizon_3_front.jpg" "horizon_3_front.jpg" "../../Basic/UniversalMediaPanoramas/horizon_3_front.jpg" "https://www.web3d.org/WorkingGroups/media/textures/panoramas/horizon_3_front.jpg" "https://www.web3d.org/x3d/content/examples/UniversalMediaPanoramas/horizon_3_front.jpg" "http://www.web3dmedia.com/UniversalMedia/textures/panoramas/horizon_3_front.jpg" "http://www.officetowers.com/UniversalMedia/textures/panoramas/horizon_3_front.jpg" "http://geometrek.com/UniversalMedia/textures/panoramas/horizon_3_front.jpg" "http://www.sc.ehu.es/ccwgamoa/UniversalMedia/textures/panoramas/horizon_3_front.jpg" ]
  groundAngle [ 1.309 1.5707 ]
  groundColor [ 0.1 0.1 0 0.4 0.25 0.2 0.6 0.6 0.6 ]
  leftUrl [ "urn:web3d:media:textures/panoramas/horizon_3_left.jpg" "horizon_3_left.jpg" "../../Basic/UniversalMediaPanoramas/horizon_3_left.jpg" "https://www.web3d.org/WorkingGroups/media/textures/panoramas/horizon_3_left.jpg" "https://www.web3d.org/x3d/content/examples/UniversalMediaPanoramas/horizon_3_left.jpg" "http://www.web3dmedia.com/UniversalMedia/textures/panoramas/horizon_3_left.jpg" "http://www.officetowers.com/UniversalMedia/textures/panoramas/horizon_3_left.jpg" "http://geometrek.com/UniversalMedia/textures/panoramas/horizon_3_left.jpg" "http://www.sc.ehu.es/ccwgamoa/UniversalMedia/textures/panoramas/horizon_3_left.jpg" ]
  rightUrl [ "urn:web3d:media:textures/panoramas/horizon_3_right.jpg" "horizon_3_right.jpg" "../../Basic/UniversalMediaPanoramas/horizon_3_right.jpg" "https://www.web3d.org/WorkingGroups/media/textures/panoramas/horizon_3_right.jpg" "https://www.web3d.org/x3d/content/examples/UniversalMediaPanoramas/horizon_3_right.jpg" "http://www.web3dmedia.com/UniversalMedia/textures/panoramas/horizon_3_right.jpg" "http://www.officetowers.com/UniversalMedia/textures/panoramas/horizon_3_right.jpg" "http://geometrek.com/UniversalMedia/textures/panoramas/horizon_3_right.jpg" "http://www.sc.ehu.es/ccwgamoa/UniversalMedia/textures/panoramas/horizon_3_right.jpg" ]
  skyAngle [ 1.309 1.5707 ]
  skyColor [ 0 0.5 1 0 0 1 0 0 1 ]
  topUrl [ "urn:web3d:media:textures/panoramas/horizon_3_top.jpg" "horizon_3_top.jpg" "../../Basic/UniversalMediaPanoramas/horizon_3_top.jpg" "https://www.web3d.org/WorkingGroups/media/textures/panoramas/horizon_3_top.jpg" "https://www.web3d.org/x3d/content/examples/UniversalMediaPanoramas/horizon_3_top.jpg" "http://www.web3dmedia.com/UniversalMedia/textures/panoramas/horizon_3_top.jpg" "http://www.officetowers.com/UniversalMedia/textures/panoramas/horizon_3_top.jpg" "http://geometrek.com/UniversalMedia/textures/panoramas/horizon_3_top.jpg" "http://www.sc.ehu.es/ccwgamoa/UniversalMedia/textures/panoramas/horizon_3_top.jpg" ]
}
Switch {
  whichChoice -1
  children [
    DEF HudContent Transform {
      translation -0.5 -0.5 .1
      children [
          DEF TopLabel  TextString {
            offset  -0.07 -.2 0
            string  [ "Position: " ]
            color  0 0 0
            size  .1
          }
          DEF BottomLabel  TextString {
            offset  -0.13 -.3 0
            string  [ "Orientation: " ]
            color  0 0 0
            size  .1
          }
          DEF TopLine  TextString {
            offset  .5 -.2 0
            string  [ "" ]
            color  0 0 1
            size  .1
          }
          DEF BottomLine  TextString {
            offset  .5 -.3 0
            string  [ "0 1 0 0" ]
            color  0.1 .7 0.1
            size  .1
          }
          Transform {
            translation 0.27 -0.25 -0.1
            children [
                Shape {
                  geometry Box {
                    size 1.4 0.25 0.01
                  }
                  appearance Appearance {
                    material Material {
                      diffuseColor 0.9 0.9 0.9
                      transparency 0.5
                    }
                  }
                }
            ]
          }
      ]
    }
  ]
}
DEF HeadsUpDisplayInstance  HeadsUpDisplay {
  screenOffset  0.2 0.5 -2
  children      USE HudContent
}
DEF ConvertValueScript Script {
  inputOnly      SFVec3f	sfVec3f
  inputOnly      SFRotation	sfRotation
  outputOnly     MFString	sfVec3fString
  outputOnly     MFString	sfRotationString

	url [ "HudKelpForestScriptConvert.js" "https://X3dGraphics.com/examples/X3dForWebAuthors/Chapter14Prototypes/HudKelpForestScriptConvert.js"
 ]
}
ROUTE HeadsUpDisplayInstance.position_changed TO ConvertValueScript.sfVec3f
ROUTE HeadsUpDisplayInstance.orientation_changed TO ConvertValueScript.sfRotation
ROUTE ConvertValueScript.sfVec3fString TO TopLine.string
ROUTE ConvertValueScript.sfRotationString TO BottomLine.string
Inline {
  url [ "../KelpForestExhibit/KelpForestMain.x3d" "https://X3dGraphics.com/examples/X3dForWebAuthors/KelpForestExhibit/KelpForestMain.x3d" "../KelpForestExhibit//KelpForestMain.wrl" "https://X3dGraphics.com/examples/X3dForWebAuthors/KelpForestExhibit/KelpForestMain.wrl" ]
}
