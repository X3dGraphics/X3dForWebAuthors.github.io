#VRML V2.0 utf8
# X3D-to-VRML-97 XSL translation autogenerated by X3dToVrml97.xslt
# http://www.web3d.org/x3d/content/X3dToVrml97.xslt
# Generated using XSLT processor: SAXON 8.7 from Saxonica

# [X3D] VRML V3.2 utf8
# PROFILE Immersive
# [X3D] version=3.2
# [X3D] noNamespaceSchemaLocation=http://www.web3d.org/specifications/x3d-3.2.xsd
# [head]

# META "title" "ViewFrustrumExample.x3d"
# META "description" "Display view frustrum associated with a given pair of Viewpoint, NavigationInfo nodes"
# META "creator" "Don Brutzman"
# META "translated" "16 August 2008"
# META "modified" "17 August 2008"
# META "reference" "ViewFrustrumPrototype.x3d"
# META "drawing" "ViewFrustrumComputation.png"
# META "image" "ViewFrustrumOverheadView.png"
# META "image" "ViewFrustrumObliqueView.png"
# META "subject" "view culling frustrum"
# META "identifier" "http://X3dGraphics.com/examples/X3dForWebAuthors/Chapter14-Prototypes/ViewFrustrumExample.x3d"
# META "generator" "X3D-Edit, https://savage.nps.edu/X3D-Edit"
# META "license" "../license.html"

# [Scene] ========== ========== ==========

EXTERNPROTO ViewFrustrum [ 
  # [appinfo] Display view frustrum associated with a given pair of Viewpoint NavigationInfo nodes

  field        SFNode      ViewpointNode
  field        SFNode      NavigationInfoNode
  exposedField SFColor	lineColor
  exposedField SFColor	frustrumColor
  exposedField SFFloat	transparency
  exposedField SFFloat	aspectRatio    # [appinfo] assumed ratio height/width

  field        SFBool	trace
][
"ViewFrustrumPrototype.x3d" "http://X3dGraphics.com/examples/X3dForWebAuthors/Chapter14-Prototypes/ViewFrustrumPrototype.x3d"
 ]
 ### Warning:  ExternProtoDeclare url does not end with prototype name: #ViewFrustrum or #OriginalProtoName"
# Example use
 ViewFrustrum {
  ViewpointNode      DEF TestViewpoint Viewpoint {
      fieldOfView 0.78
      retainUserOffsets FALSE
    }
 ### Hint:  need description attribute, such as <Viewpoint description='new viewpoint'/>
  NavigationInfoNode      DEF TestNavigationInfo NavigationInfo {
      avatarSize [ 1 1.6 0.75 ]
      visibilityLimit 15
      type [ "EXAMINE" "ANY"  ] 
       # transitionType [ "ANIMATE"  ] 
    }
  lineColor  0.9 0.9 0.9
  frustrumColor  0.8 0.8 0.8
  transparency  0.75
}
Viewpoint {
  description "Above view"
  orientation 1 0 0 -1.57
  position 0 40 0
  retainUserOffsets FALSE
}
Viewpoint {
  description "Frustrum viewpoint"
  retainUserOffsets FALSE
}
Viewpoint {
  description "Behind frustrum viewpoint"
  position 0 0 15
  retainUserOffsets FALSE
}
NavigationInfo {
  type [ "EXAMINE" "FLY" "ANY"  ] 
   # transitionType [ "ANIMATE"  ] 
}
# Visualization assists
DEF GridXZ Inline {
  url [ "../../Savage/Tools/Authoring/GridXZ_20x20Fixed.x3d" "https://savage.nps.edu/Savage/Tools/Authoring/GridXZ_20x20Fixed.x3d" ]
}
Transform {
  scale 5 5 5
  children [
      DEF CoordinateAxes Inline {
        url [ "../Chapter03-Grouping/CoordinateAxes.x3d" "http://X3dGraphics.com/examples/X3dForWebAuthors/Chapter03-Grouping/CoordinateAxes.x3d" ]
      }
  ]
}
